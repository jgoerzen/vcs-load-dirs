.\" This manpage has been automatically generated by docbook2man 
.\" from a DocBook document.  This tool can be found at:
.\" <http://shell.ipoline.com/~elmert/comp/docbook2X/> 
.\" Please send any bug reports, improvements, comments, patches, 
.\" etc. to Steve Cheng <steve@ggi-project.org>.
.TH "TLA_LOAD_DIRS" "1" "13 October 2004" "John Goerzen" "darcs_load_dirs Manual"

.SH NAME
darcs_load_dirs \- Import upstream archives into tla/arch or darcs and handle        renames
.SH SYNOPSIS

\fBdarcs_load_dirs\fR [ \fB-w\fIWC\fB\fR | \fB--wc=\fIWC\fB\fR ] [ \fB-l\fIFILE\fB\fR | \fB--log=\fIFILE\fB\fR ] [ \fB-L\fITEXT\fB\fR | \fB--log-message=\fITEXT\fB\fR ] [ \fB-s\fIMSG\fB\fR | \fB--summary=\fIMSG\fB\fR ] [ \fB-v\fR | \fB--verbose\fR ] [ \fB-n\fR | \fB--no-commit\fR ] \fBnewpath\fR


\fBdarcs_load_dirs\fR \fB--version\fR


\fBdarcs_load_dirs\fR [ \fB--help\fR | \fB-h\fR ]

.SH "DESCRIPTION"
.PP
\fBdarcs_load_dirs\fR is a tool to help you import archives from people that
do not use Arch or Darcs into an Arch or Darcs
archive.  Along the way, it takes
care of all the typical hassles: it will create tags in the
Arch repository for new files; delete tags for removed files;
and move tags for files that have themselves been moved.
\fBdarcs_load_dirs\fR can handle both first imports of a package and
successive imports.
.PP
For those familiar with Subversion, you will know that it has
a tool called \fBsvn_load_dirs\fR.  \fBdarcs_load_dirs\fR
is modeled after that program, but contains various
improvements for ease of use.
.SH "USAGE"
.PP
In the simplest case, you will simply run \fBdarcs_load_dirs\fR from your
working directory, passing it the name of the directory
containing the new upstream sources.  \fBdarcs_load_dirs\fR will run, usually
making and commiting changes without any need of greater
assistance from you.
.SS "RENAMED FILES"
.PP
\fBdarcs_load_dirs\fR can automatically detect added files and deleted files
if they occur in isolation.  However, it cannot
automatically tell the difference between a delete and an
add, and a rename.  (There is not enough information in
simple upstream imports to capture the intent.)  
Therefore, \fBdarcs_load_dirs\fR will prompt you to solve the problem.
You can opt to ignore it -- \fBdarcs_load_dirs\fR will just issue deletes
and adds as appropriate -- but then your history will be
harder to track if there were indeed renames along the way.
.PP
You will be presented with a four-column listing.  Those
columns, in order from left to right, represent:
.TP 3
1. 
File number for deleted file
.TP 3
2. 
File name of deleted file
.TP 3
3. 
File number of added file
.TP 3
4. 
File name of added file
.PP
You have three options at this point: you can press q to
indicate that there are no more renames; you can press r to
request the list be re-drawn, or you can supply one or more
renames.
.PP
A rename uses the left column as the old name and the right
column as the new name.  To save you typing, you just enter
the appropriate file numbers separated by spaces.  So, if
the file at position 5 on the left moved to position 1b on
the right, just enter "5 1b".  After doing that, the list
will be automatically re-drawn, and you can either make
further selections or exit.
.PP
If you want to rename several files at once, enter your
rename commands separated by commas.  For instance, "5 1b, 6
1c".
.SH "OPTIONS"
.TP
\fB-h\fR
.TP
\fB--help\fR
Displays a brief summary of the available
options and exits.
.TP
\fB-l\fIFILE\fB\fR
.TP
\fB--log=\fIFILE\fB\fR
Add the contents of \fIFILE\fR to
the end of the log message automatically generated by
\fBdarcs_load_dirs\fR for a commit/record.
.TP
\fB-L\fITEXT\fB\fR
.TP
\fB--log-message=\fITEXT\fB\fR
Add the \fITEXT\fR specified on the
command line to the log message.
.TP
\fB-s\fIMSG\fB\fR
.TP
\fB--summary=\fIMSG\fB\fR
Sets the log summary line to the
\fIMSG\fR supplied on the command
line.  This operation requires tla 1.1 or above; tla 1.0
does not provide the features necessary to implement it.
.TP
\fB-v\fR
.TP
\fB--verbose\fR
Causes \fBdarcs_load_dirs\fR to display additional status
information.  You will see the tla commands that are
being run behind the scenes, and some executed commands
may receive arguments asking them to be more verbose as
well.
.TP
\fB--version\fR
Causes \fBdarcs_load_dirs\fR to print its version number and
exit.
.TP
\fB-w\fIWC\fB\fR
.TP
\fB--wc=\fIWC\fB\fR
Explicitly set the working copy directory to
\fIWC\fR.  If not specified,
defaults to the current working directory.
.SH "COPYRIGHT"
.PP
\fBdarcs_load_dirs\fR, and this manual, are Copyright (C) 2003-2004 John Goerzen.
.PP
This program is free software; you can redistribute it and/or modify
it under the terms of the GNU General Public License as published by
the Free Software Foundation; either version 2 of the License, or
(at your option) any later version.
.PP
This program is distributed in the hope that it will be useful,
but WITHOUT ANY WARRANTY; without even the implied warranty of
MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
GNU General Public License for more details.
.PP
You should have received a copy of the GNU General Public License
along with this program; if not, write to the Free Software
Foundation, Inc., 59 Temple Place, Suite 330, Boston, MA  02111-1307 USA
.SH "AUTHOR"
.PP
\fBdarcs_load_dirs\fR, its libraries, documentation, and all included files, except where
noted, was written by John Goerzen <jgoerzen@complete.org> and
copyright is held as stated in the COPYRIGHT section.
.PP
\fBdarcs_load_dirs\fR may be downloaded from  <URL:http://packages.debian.org/tla-load-dirs>.
tla users may also obtain the latest version by using these
commands:

.nf
$ \fBtla register-archive jgoerzen@complete.org--projects \\
  http://arch.complete.org/projects\fR
$ \fBtla get jgoerzen@complete.org--projects/configs--head--1.0 \\
  jgoerzen\fR
$ \fBcd jgoerzen\fR
$ \fBtla buildcfg tla-load-dirs/latest\fR
        
.fi
.SH "SEE ALSO"
.PP
\fBtla\fR(1),
\fBdarcs\fR(1),
\fBtla-buildpackage\fR(1).
